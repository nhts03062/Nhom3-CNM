
<body>
  <div class="row">
      <div class="header">
        <div class="search">
            <div class="searchbar">
                <i class="fa fa-search" aria-hidden="true"></i>
                <input type="text" placeholder="Search..."/>
              </div>
            <button class="add-friend" (click)="toggleModal()">
              <i class="fa-solid fa-user-plus create clickable"></i></button>
            <app-modal [isOpen]="showModal" (closeModal)="toggleModal()" title="Add Friend"></app-modal>
        </div>
        <div class="header-chat">
          <p>{{ tabTitles[selectedTab] }}</p>
            <i class="icon clickable fa fa-ellipsis-h right" aria-hidden="true"></i>
          </div>
    </div>
    <section class="Left-section">
      <div class="left-section" [ngClass]="{ 'active': selectedTab === 0 }"  (click)="onSelectTab(0)">
        <p> Friends list</p>
      </div>
      <div class="left-section" [ngClass]="{ 'active': selectedTab === 1 }" (click)="onSelectTab(1)">
        <p> Group list</p>
      </div>
      <div class="left-section" [ngClass]="{ 'active': selectedTab === 2 }" (click)="onSelectTab(2)">
        <p>Requests</p>
      </div>
    </section>
    
    <section class="Right-section">
      <div *ngIf="selectedTab === 0">
        <!-- Search Input -->
        <input
        type="text"
        placeholder="Search..."
        [(ngModel)]="searchTerm"
        class="friends-searchbar"
        />

        <!-- Optional: only show this if you're *not* using dropdown-style search -->
        <h6 class="friend-count">Friends ({{ filteredFriends.length }})</h6>

        <!-- Show only filtered friends -->
        <ng-container *ngFor="let friend of filteredFriends">
        <div class="left-section friends">
          <div class="photo" [style.backgroundImage]="'url(' + friend.avatarUrl + ')'">
            <div class="online" *ngIf="friend.online === true"></div>
          </div>
          <div class="desc-contact">
            <div class="username">
              <p class="name">{{ friend.name }}</p>
            </div>
          </div>
        </div>
        </ng-container>

        <!-- Optional: No matches -->
        <div class="no-results" *ngIf="searchTerm && filteredFriends.length === 0">
        No friends found.
        </div>

      </div>
    
      <div *ngIf="selectedTab === 1">
        <!-- Group list content here -->
        <p>Here are your groups!</p>
      </div>
    
      <div *ngIf="selectedTab === 2">
        <!-- Requests content here -->
        <p>Here are your friend requests!</p>
      </div>
    </section>
    
      
    </div>
  </body>